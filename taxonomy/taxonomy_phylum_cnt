awk -F "\t" '{id[$3"\t"$4]++;} END {for (key in id) print key"\t"id[key]}' coreness/grouping_w_merged_dmp_gtdb-taxId_taxName_phylumId_phylumName.tsv > 32_pseudomonadota/phylum_ntaxnodes.tsv
awk -F "\t" '{id[$3"\t"$4]++;} END {for (key in id) print key"\t"id[key]}' coreness/grouping_w_merged_dmp_gtdb-taxId_taxName_genusId_genusName.tsv > 32_pseudomonadota/genus_ntaxnodes.tsv
awk -F "\t" '{id[$3"\t"$4]++;} END {for (key in id) print key"\t"id[key]}' coreness/grouping_w_merged_dmp_gtdb-taxId_taxName_speciesId_speciesName.tsv > 32_pseudomonadota/species_ntaxnodes.tsv
awk -F "\t" 'FNR==NR {id[$1]=$3; next} {print $0"\t"id[$1]} !($1 in id) {print $0"\tERROR"; exit}' 32_pseudomonadota/phylum_ntaxnodes.tsv 28_cnt_per_rank/afesm30_repseq_foldseek_clu_nonsingleton-phylumId_phylumName_superkingdom_superkingdomName_count.tsv > 32_pseudomonadota/phylum-phylumId_phylumName_superkingdom_superkingdomName_count_ntaxnodes.tsv
awk -F "\t" 'FNR==NR {id[$1]=$3; next} {print $0"\t"id[$1]} !($1 in id) {print $0"\tERROR"; exit}' 32_pseudomonadota/genus_ntaxnodes.tsv 15_n_genus/afesm30_repseq_foldseek_clu_nonsingleton-genus_genusName_superkingdom_superkingdomName_count.tsv > 32_pseudomonadota/genus-genusId_genusName_superkingdom_superkingdomName_count_ntaxnodes.tsv
awk -F "\t" 'FNR==NR {id[$1]=$3"\t"$4; next} $1 in id {p[id[$1]]++;} END {for (key in p) print key"\t"p[key]}' coreness/grouping_w_merged_dmp_gtdb-taxId_taxName_phylumId_phylumName.tsv coreness/grouping_w_merged_dmp_gtdb-taxId_taxName_speciesId_speciesName.tsv > 32_pseudomonadota/phylum_nSpecies.tsv
awk -F "\t" 'FNR==NR {id[$1]=$3; next} {print $0"\t"id[$1]} !($1 in id) {print $0"\tERROR"; exit}' 32_pseudomonadota/phylum_nSpecies.tsv 28_cnt_per_rank/afesm30_repseq_foldseek_clu_nonsingleton-phylumId_phylumName_superkingdom_superkingdomName_count.tsv > 32_pseudomonadota/phylum-phylumId_phylumName_superkingdom_superkingdomName_count_nSpecies.tsv